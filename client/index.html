<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />
    <!-- Primary Meta Tags -->
    <title>Lịch Sử Việt Nam | Từ Thời Vua Hùng Đến Hiện Đại</title>
    <meta
      name="title"
      content="Lịch Sử Việt Nam | Từ Thời Vua Hùng Đến Hiện Đại"
    />
    <meta
      name="description"
      content="Khám phá hành trình lịch sử Việt Nam qua các thời kỳ từ thời Vua Hùng đến hiện đại với những sự kiện, nhân vật và di tích lịch sử nổi bật."
    />
    <meta
      name="keywords"
      content="lịch sử Việt Nam, thời kỳ lịch sử, Vua Hùng, nhân vật lịch sử, di tích lịch sử, văn hóa Việt Nam, dòng thời gian lịch sử"
    />
    <meta name="author" content="lichsuviet.edu.vn" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="Vietnamese" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://lichsuviet.edu.vn/" />
    <meta
      property="og:title"
      content="Lịch Sử Việt Nam | Từ Thời Vua Hùng Đến Hiện Đại"
    />
    <meta
      property="og:description"
      content="Khám phá hành trình lịch sử Việt Nam qua các thời kỳ từ thời Vua Hùng đến hiện đại với những sự kiện, nhân vật và di tích lịch sử nổi bật."
    />
    <meta
      property="og:image"
      content="https://lichsuviet.edu.vn/uploads/banner-image.png"
    />
    <meta property="og:site_name" content="Lịch Sử Việt Nam" />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://lichsuviet.edu.vn/" />
    <meta
      property="twitter:title"
      content="Lịch Sử Việt Nam | Từ Thời Vua Hùng Đến Hiện Đại"
    />
    <meta
      property="twitter:description"
      content="Khám phá hành trình lịch sử Việt Nam qua các thời kỳ từ thời Vua Hùng đến hiện đại với những sự kiện, nhân vật và di tích lịch sử nổi bật."
    />
    <meta
      property="twitter:image"
      content="https://lichsuviet.edu.vn/uploads/banner-image.png"
    />

    <!-- Mobile App Meta -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Lịch Sử Việt Nam" />
    <meta name="application-name" content="Lịch Sử Việt Nam" />
    <meta name="theme-color" content="#CF2A27" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://lichsuviet.edu.vn/" />
    <style>
      .ql-container.ql-snow {
        max-height: 500px;
        overflow-y: scroll;
      }

      .ql-align-center {
        text-align: -webkit-center;
      }
    </style>
    <!-- Favicon is dynamically loaded from settings in App.tsx -->
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-GDN25M8C0N");
    </script>
  </head>
  <body>
    <div id="fb-root"></div>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v22.0&appId=338293120972096"
    ></script>
    <div id="root"></div>
    <!-- Thay thế cách tải script -->
    <script>
      function createSimpleUI() {
        // Tạo UI tạm thời để điều hướng
        const root = document.getElementById('root');
        root.innerHTML = `
          <div style="font-family: system-ui, -apple-system, sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem;">
            <h1 style="color: #CF2A27;">Lịch Sử Việt Nam</h1>
            <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; padding: 1rem; margin-bottom: 1rem;">
              <p style="margin: 0;"><strong>Thông báo:</strong> Hệ thống đang gặp vấn đề kỹ thuật. Vui lòng thử lại sau.</p>
            </div>
            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
              <a href="/auth" style="display: inline-block; background-color: #CF2A27; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">Đăng nhập</a>
              <a href="/admin" style="display: inline-block; background-color: #333; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">Trang quản trị</a>
            </div>
          </div>
        `;
      }

      // Thử tải main.tsx, nếu không được thì hiển thị UI đơn giản
      window.addEventListener('error', function(e) {
        console.log('Lỗi được phát hiện:', e.message);
        if (e.message && e.message.includes('MIME type')) {
          console.log('Phát hiện lỗi MIME type, hiển thị UI đơn giản...');
          createSimpleUI();
        }
      }, true);

      // Đặt một timeout để kiểm tra nếu module không tải sau 2 giây
      setTimeout(function() {
        if (!window.appLoaded) {
          console.log('Timeout: Module không tải được, hiển thị UI đơn giản');
          createSimpleUI();
        }
      }, 2000);
    </script>
    <!-- Thử tải script với nhiều cách khác nhau -->
    <script type="module">
      // Đánh dấu khi ứng dụng đã tải thành công
      window.appLoaded = false;
      try {
        import('/src/main.tsx?v=' + Date.now())
          .then(() => {
            window.appLoaded = true;
            console.log('Module đã tải thành công');
          })
          .catch(error => {
            console.error('Lỗi khi tải module:', error);
            createSimpleUI();
          });
      } catch (error) {
        console.error('Lỗi khi import module:', error);
        createSimpleUI();
      }
    </script>
  </body>
</html>
