root@vmi2586871:~/app# NODE_ENV=production node dist/index.js
Kiểm tra DATABASE_URL: tồn tại
Đã cấu hình kết nối cơ sở dữ liệu
7:14:02 AM [express] Initializing default settings...
Error in initializeDefaultSettings: ErrorEvent {
  [Symbol(kTarget)]: WebSocket {
    _events: [Object: null prototype] {
      error: [Function],
      message: [Function],
      close: [Function],
      open: [Function]
    },
    _eventsCount: 4,
    _maxListeners: undefined,
    _binaryType: 'arraybuffer',
    _closeCode: 1006,
    _closeFrameReceived: false,
    _closeFrameSent: false,
    _closeMessage: <Buffer >,
    _closeTimer: null,
    _errorEmitted: true,
    _extensions: {},
    _paused: false,
    _protocol: '',
    _readyState: 3,
    _receiver: null,
    _sender: null,
    _socket: null,
    _bufferedAmount: 0,
    _isServer: false,
    _redirects: 0,
    _autoPong: true,
    _url: 'wss://localhost/v2',
    _req: null,
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false
  },
  [Symbol(kType)]: 'error',
  [Symbol(kError)]: Error [ERR_TLS_CERT_ALTNAME_INVALID]: Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn
      at Object.checkServerIdentity (node:tls:316:12)
      at TLSSocket.onConnectSecure (node:_tls_wrap:1687:27)
      at TLSSocket.emit (node:events:524:28)
      at TLSSocket._finishInit (node:_tls_wrap:1076:8)
      at ssl.onhandshakedone (node:_tls_wrap:862:12) {
    code: 'ERR_TLS_CERT_ALTNAME_INVALID',
    reason: "Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn",
    host: 'localhost',
    cert: {
      subject: [Object: null prototype],
      issuer: [Object: null prototype],
      subjectaltname: 'DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn',
      infoAccess: [Object: null prototype],
      ca: false,
      modulus: 'B3F9F4A2D7880B9AF75F645142D49CDDFCC29B0C1C9D637E77671762B547FA2576FD5A26E9C7941124C1397AC75AB0947AE8885AEFD7F0BE488AF35A0EA4A5BBA4434B42227FC865535FBBF31FE3CCC82503D7E51D143A4F98B762BF00CAD8DF769749107615B846C71DB127896CE2909CE27922574073A775DC6341F13204AA3DFC445CA82CE05A52DBF8B77007348544F2802447997BA8F3DEA7CBEF62C4C33E509A98F9C40275569776C335055C591E6FF63A1AD69F2F3DDFCD3F31525735DF2CE9FE53672914285CAF16B6CCD9D67369548BCD77C85C3C99B292F4AB25F06D9866A64968A15604E0674A5CE0D1A108207D14F8AAE4BB92B9F3A22B83F8F3',
      bits: 2048,
      exponent: '0x10001',
      pubkey: <Buffer 30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03 82 01 0f 00 30 82 01 0a 02 82 01 01 00 b3 f9 f4 a2 d7 88 0b 9a f7 5f 64 51 42 d4 9c dd fc ... 244 more bytes>,
      valid_from: 'May  5 18:49:35 2025 GMT',
      valid_to: 'Aug  3 18:49:34 2025 GMT',
      fingerprint: '08:C3:A4:F7:45:B2:7F:AA:B7:69:74:87:D1:98:F0:63:D6:98:CF:35',
      fingerprint256: '48:1D:4C:2D:94:A5:BB:1B:52:FD:E8:94:AF:F0:6C:48:24:9A:92:17:EE:13:43:ED:96:39:95:1B:EB:B8:3A:00',
      fingerprint512: '19:61:1A:07:18:EE:FF:ED:14:A4:F4:F4:44:65:7F:F2:F9:B0:12:E8:86:A1:13:FF:EE:75:52:66:62:5A:B4:1B:64:18:4E:99:5F:2F:AF:7E:FA:5D:DC:9B:6B:36:57:D4:C8:E9:88:F9:96:AC:41:EA:93:2D:96:86:6E:47:94:56',
      ext_key_usage: [Array],
      serialNumber: '05A7CCC87F189E65DE814E3066783BCCB960',
      raw: <Buffer 30 82 05 37 30 82 04 1f a0 03 02 01 02 02 12 05 a7 cc c8 7f 18 9e 65 de 81 4e 30 66 78 3b cc b9 60 30 0d 06 09 2a 86 48 86 f7 0d 01 01 0b 05 00 30 33 ... 1289 more bytes>,
      issuerCertificate: [Object]
    }
  },
  [Symbol(kMessage)]: "Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn"
}
Error initializing default settings: Error: Database error in initializeDefaultSettings
    at handleDbError (file:///root/app/dist/index.js:206:9)
    at Object.initializeDefaultSettings (file:///root/app/dist/index.js:372:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///root/app/dist/index.js:3374:5
Error creating initial admin user: ErrorEvent {
  [Symbol(kTarget)]: WebSocket {
    _events: [Object: null prototype] {
      error: [Function],
      message: [Function],
      close: [Function],
      open: [Function]
    },
    _eventsCount: 4,
    _maxListeners: undefined,
    _binaryType: 'arraybuffer',
    _closeCode: 1006,
    _closeFrameReceived: false,
    _closeFrameSent: false,
    _closeMessage: <Buffer >,
    _closeTimer: null,
    _errorEmitted: true,
    _extensions: {},
    _paused: false,
    _protocol: '',
    _readyState: 3,
    _receiver: null,
    _sender: null,
    _socket: null,
    _bufferedAmount: 0,
    _isServer: false,
    _redirects: 0,
    _autoPong: true,
    _url: 'wss://localhost/v2',
    _req: null,
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false
  },
  [Symbol(kType)]: 'error',
  [Symbol(kError)]: Error [ERR_TLS_CERT_ALTNAME_INVALID]: Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn
      at Object.checkServerIdentity (node:tls:316:12)
      at TLSSocket.onConnectSecure (node:_tls_wrap:1687:27)
      at TLSSocket.emit (node:events:524:28)
      at TLSSocket._finishInit (node:_tls_wrap:1076:8)
      at ssl.onhandshakedone (node:_tls_wrap:862:12) {
    code: 'ERR_TLS_CERT_ALTNAME_INVALID',
    reason: "Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn",
    host: 'localhost',
    cert: {
      subject: [Object: null prototype],
      issuer: [Object: null prototype],
      subjectaltname: 'DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn',
      infoAccess: [Object: null prototype],
      ca: false,
      modulus: 'B3F9F4A2D7880B9AF75F645142D49CDDFCC29B0C1C9D637E77671762B547FA2576FD5A26E9C7941124C1397AC75AB0947AE8885AEFD7F0BE488AF35A0EA4A5BBA4434B42227FC865535FBBF31FE3CCC82503D7E51D143A4F98B762BF00CAD8DF769749107615B846C71DB127896CE2909CE27922574073A775DC6341F13204AA3DFC445CA82CE05A52DBF8B77007348544F2802447997BA8F3DEA7CBEF62C4C33E509A98F9C40275569776C335055C591E6FF63A1AD69F2F3DDFCD3F31525735DF2CE9FE53672914285CAF16B6CCD9D67369548BCD77C85C3C99B292F4AB25F06D9866A64968A15604E0674A5CE0D1A108207D14F8AAE4BB92B9F3A22B83F8F3',
      bits: 2048,
      exponent: '0x10001',
      pubkey: <Buffer 30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03 82 01 0f 00 30 82 01 0a 02 82 01 01 00 b3 f9 f4 a2 d7 88 0b 9a f7 5f 64 51 42 d4 9c dd fc ... 244 more bytes>,
      valid_from: 'May  5 18:49:35 2025 GMT',
      valid_to: 'Aug  3 18:49:34 2025 GMT',
      fingerprint: '08:C3:A4:F7:45:B2:7F:AA:B7:69:74:87:D1:98:F0:63:D6:98:CF:35',
      fingerprint256: '48:1D:4C:2D:94:A5:BB:1B:52:FD:E8:94:AF:F0:6C:48:24:9A:92:17:EE:13:43:ED:96:39:95:1B:EB:B8:3A:00',
      fingerprint512: '19:61:1A:07:18:EE:FF:ED:14:A4:F4:F4:44:65:7F:F2:F9:B0:12:E8:86:A1:13:FF:EE:75:52:66:62:5A:B4:1B:64:18:4E:99:5F:2F:AF:7E:FA:5D:DC:9B:6B:36:57:D4:C8:E9:88:F9:96:AC:41:EA:93:2D:96:86:6E:47:94:56',
      ext_key_usage: [Array],
      serialNumber: '05A7CCC87F189E65DE814E3066783BCCB960',
      raw: <Buffer 30 82 05 37 30 82 04 1f a0 03 02 01 02 02 12 05 a7 cc c8 7f 18 9e 65 de 81 4e 30 66 78 3b cc b9 60 30 0d 06 09 2a 86 48 86 f7 0d 01 01 0b 05 00 30 33 ... 1289 more bytes>,
      issuerCertificate: [Object]
    }
  },
  [Symbol(kMessage)]: "Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:lichsuviet.edu.vn, DNS:www.lichsuviet.edu.vn"
}
7:14:02 AM [express] serving on port 5000
